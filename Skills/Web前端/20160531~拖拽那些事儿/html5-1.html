<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
.u-color {display: inline-block; text-align: center; color: #fff; height: 128px; width: 128px; line-height: 128px;}
.u-color-primary {background: #ccc;}
.u-color-green {background: #00a65a;}
.u-color-orange {background: #f39c12;}
.u-color-red {background: #dd4b39;}
.u-color-lg {width: 320px; height: 320px; line-height: 320px; font-size: 24px;}
.g-container {margin-bottom: 20px;}
</style>
</head>
<body>
<div class="g-container" id="j-container">
    <div class="u-color u-color-green" draggable="true"
        ondragstart="onDragStart(event)"
        ondrag="onDrag(event)"
        ondragend="onDragEnd(event)">green</div>
    <div class="u-color u-color-orange" draggable="true"
        ondragstart="onDragStart(event)"
        ondrag="onDrag(event)"
        ondragend="onDragEnd(event)">orange</div>
    <div class="u-color u-color-red" draggable="true"
        ondragstart="onDragStart(event)"
        ondrag="onDrag(event)"
        ondragend="onDragEnd(event)">red</div>
</div>
<div class="u-color u-color-primary u-color-lg"
    ondragenter="onDragEnter(event)"
    ondragover="onDragOver(event)"
    ondragleave="onDragLeave(event)"
    ondrop="onDrop(event)">
    dropzone
</div>
<script>
function onDragStart(e) {
    // console.log('dragStart');
    e.dataTransfer.effectAllowed = 'move';
    e.dataTransfer.setData('color', e.target.innerText);
}
function onDrag(e) {
    // console.log('drag');
}
function onDragEnd(e) {
    console.log('dragEnd');
}
function onDragEnter(e) {
    console.log('dragEnter');
}
function onDragLeave(e) {
    console.log('dragLeave');
}
function onDragOver(e) {
    e.preventDefault();    // 不能少
    e.dataTransfer.dropEffect = 'copy';
    console.log('dragOver');
}
function onDrop(e) {
    var color = e.dataTransfer.getData('color');
    e.target.className = 'u-color u-color-lg u-color-' + color;
    console.log(color, 'Drop');
}
</script>
</body>
</html>
